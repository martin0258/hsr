<head>
  <title>英文聽力練習</title>
</head>

<body>
  <a href="https://github.com/martin0258/hsr" target="_blank"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://camo.githubusercontent.com/e7bbb0521b397edbd5fe43e7f760759336b5e05f/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f677265656e5f3030373230302e706e67" alt="Fork me on GitHub" data-canonical-src="https://s3.amazonaws.com/github/ribbons/forkme_right_green_007200.png"></a>
  <div class="center-block">
  {{> source}}
  <div id="player"></div>
  {{> playground}}
  </div>
</body>

<template name="source">
  <form id="source" class="form-inline">
    <label for="url"><a href="https://tw.voicetube.com/all/0/" target="_blank">VoiceTube</a>英聽練習</label>
    <input type="url" id="url" name="url" placeholder="提交一個VoiceTube影片網址以開始練習" />
    <span>或</span>
    <button type="button" id="sample" class="btn btn-success">以範例開始練習</button>
    <button type="submit" id="source-submit" style="display:none"></button>
  </form>
</template>

<template name="playground">
  {{#if hasValidUrl}}
  <div class="form-inline">
    <button type="button" id="prevCaption" class="btn btn-default btn-small" title="上一句（按住快退）">&lt;</button>
    <code>{{captionIdx}}之{{numCaptions}}句</code>
    <button type="button" id="nextCaption" class="btn btn-default btn-small" title="下一句（按住快轉）">&gt;</button>
  </div>

  <div>
    <span id="first">{{first}}</span>
    <span id="solution"><abbr title="反白看答案（來源VoiceTube）">{{{solution}}}</abbr></span>
    <span id="last">{{last}}</span>
  </div>
  
  <div id="sentence-block">
    <form id="sentence-form" class="form-inline">
      <span id="first">{{first}}</span>
      <input id="sentence" name="sentence" type="text" placeholder="聽到什麼？" />
      <span id="last">{{last}}</span>
    </form>
  </div>
  
  <!-- Hidden action buttions -->
  <div class="form-inline">
    <button type="button" class="btn btn-primary" id="check">核對✓</button>
    <button type="button" class="btn btn-default" id="repeat">重聽↻</button>
  </div>
  
  <div id="result-container">
    <!--Unicode Emoticons: http://wrttn.me/30dbfd/-->
    <span id="correct" class="result">答對了 \(• ◡ •)/ 按Enter至下句</span>
    <span id="incorrect" class="result">答錯了 (&gt; _ &lt;) 按Enter重聽</span>
  </div>
  {{/if}}
</template>
